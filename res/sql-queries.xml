<?xml version="1.0" encoding="UTF-8"?>
<Queries>
	<Transactions>
		<CreateTable>
		<![CDATA[
		CREATE TABLE IF NOT EXISTS TRANSACTIONS
		(
			ID INTEGER PRIMARY KEY AUTOINCREMENT, 
			AMOUNT DECIMAL(10,2) NOT NULL, 
			COMMENT VARCHAR,
			ACCOUNT_ID INTEGER NOT NULL REFERENCES ACCOUNTS(ID), 
			TYPE_ID INTEGER NOT NULL REFERENCES TYPES(ID),
			DATE TIMESTAMP NOT NULL DEFAULT (STRFTIME('%s', 'NOW')), 
			EXPENSE_ID INTEGER REFERENCES EXPENSES(ID) 
		);
		]]></CreateTable>
		<Insert>
		<![CDATA[
		REPLACE INTO TRANSACTIONS (ID, AMOUNT, COMMENT, ACCOUNT_ID, TYPE_ID, DATE, EXPENSE_ID) VALUES (?,?,?,?,?,?,?);
		SELECT LAST_INSERT_ROWID();
		]]>
		</Insert>
		<GetAll>
		<![CDATA[
		SELECT ID, AMOUNT, COMMENT, ACCOUNT_ID, TYPE_ID, DATE, EXPENSE_ID FROM TRANSACTIONS LIMIT ?, ? ORDER BY {orderby};
		]]>
		</GetAll>
		<Get>
		<![CDATA[
		SELECT AMOUNT, COMMENT, ACCOUNT_ID, TYPE_ID, DATE, EXPENSE_ID FROM TRANSACTIONS WHERE ID = ?;
		]]>
		</Get>
		<Delete>
		<![CDATA[
		DELETE FROM TRANSACTIONS WHERE ID = ?;
		]]>
		</Delete>
	</Transactions>
</Queries>