<div class="summary">
    <h4>Summary</h4>
    <hr/>
    <div class="budget-mode">
        <label>Budget mode</label>
        <div>
            <select
                class="form-control"
                ng-change="getBudget(); initDatePickers()"
                ng-model="budgetMode.mode"
            >
                <option value="expense">Expense based</option>
                <option value="strictExpense">Strict expense based</option>
                <option value="time">Time based</option>
                <option value="manual">Manual</option>
            </select>
        </div>
        <div class="no-animate" ng-show="budgetMode.mode == 'expense' || budgetMode.mode == 'strictExpense'">
            <label>Expense rounds</label> 
            <input
                class="form-control small"
                type="number"
                step="1"
                min="1"
                ng-min="1"
                ng-model="budgetMode.expenseRounds"
                ng-change="getBudget()"
                ng-model-options="{ 'debounce' : 500 }"
            > 
        </div> 
        <div class="no-animate" ng-show="budgetMode.mode == 'time'">
            <label>Next </label>
            <input
                class="form-control xsmall"
                type="number"
                step="1"
                min="1"
                ng-min="1"
                ng-model="budgetMode.days"
                ng-change="getBudget()"
                ng-model-options="{ 'debounce' : 500 }"
            >
            <label> days</label>
        </div> 
        <div class="no-animate" ng-show="budgetMode.mode == 'manual'">
            <label>Starting</label>
            <input
                id="manualStart"
                type="text"
                class="datepicker form-control"
                pattern="\d{4}/\d{1,2}/\d{1,2}"
                ng-model="budgetMode.start"
                ng-change="getBudget()"
                ng-model-options="{ 'debounce' : 500 }"
            >
            <br/>
            <label>Amount</label>
            <div class="cell">
                <input
                    class="form-control small"
                    type="number"
                    step="0.01"
                    ng-model="budgetMode.amount"
                    ng-change="getBudget()"
                    ng-model-options="{ 'debounce' : 500 }"
                    data-number-divide="100"
                >
                <br/>
                <div ng-click="getBudget()">
                    <input
                        type="radio"
                        name="manualFrequency"
                        value="7"
                        ng-model="budgetMode.frequency"
                    >
                    Weekly
                    <input
                        type="radio"
                        name="manualFrequency"
                        value="30"
                        ng-model="budgetMode.frequency"
                    >
                    Monthly
                </div> 
            </div> 
        </div> 
    </div>
    <hr/>
    <div class="cashflow">
        <label>Maintain positive cashflow for period</label>
        <select
            class="form-control small"
            ng-change="getBudget()"
            ng-model="budgetMode.cashflowPeriod"
        >
            <option value="0">Never</option> 
            <option value="7">Week</option> 
            <option value="30">Month</option> 
            <option value="35">Five week</option> 
            <option value="90">Quarter</option> 
            <option value="180">Half year</option> 
            <option value="365">Year</option> 
        </select>
    </div>
    <hr/>
    <div class="budget" ng-class="{ 'warning' : budget.afterAll < 0 && budget.afterAuto, 'danger' : !budget.afterAuto && budget.afterAll < 0 }">
        <label>Budget</label>
        <span>{{ (budget.afterAll/100).toFixed(2) }}</span>
        <div ng-show="budget.afterAll < 0">
             <span ng-show="budgetMode.mode == 'expense' || budgetMode.mode == 'strictExpense' || budgetMode.mode == 'time'">
                You may need to re-evaluate your
                <a href="#!expenses">expenses</a>
            </span>
            <span ng-show="budgetMode.mode == 'manual'">You have overspent your budget</span> 
        </div>
    </div>
    <div class="budget">
        <label>Budget (Only automatic expenses)</label>
        <span>{{ (budget.afterAuto/100).toFixed(2) }}</span>
        <span ng-show="budget.afterAuto < 0">
            You may not have enough to pay for some automatic expenses
        </span>
    </div>
    <hr/>
    <div class="moving-average" ng-show="cumulativeSums.length">
        <label>Moving average</label>
        <select
            class="form-control small"
            ng-change="drawGraph()"
            ng-model="movingAvgDays"
        >
            <option value="7">Weekly</option> 
            <option value="30">Monthly</option> 
            <option value="35">Five weekly</option> 
            <option value="90">Quarterly</option> 
            <option value="180">Half-yearly</option> 
            <option value="365">Annually</option> 
        </select>
    </div>
    <div id="trans-chart" ng-click="filterDate($event)"></div>
</div>
